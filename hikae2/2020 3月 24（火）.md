---
Created: 2020-03-24T22:11
Updated: 2020-03-25T12:39
---
アールスペックワンライナー　アトムアドオン

アトム　アールスペック

Atomでもタブを２つ、同時にコードの中身を表示させて見ていた。（スクリーンショットあり）

2020 3月 24（火）,22:11

テーブルタグの中でボタンが効かなくなるのは常識！

2020 3月 24（火）,23:21

開発環境とテスト環境ではdomの読み込み順序だかが違うので、開発環境で動く機能がテスト環境で動かないということは有り得る。

2020 3月 24（火）,23:34

開発環境で見過ごすと本番環境で止まることは大いにあり得る。「やっぱテストすげー！」とミヤオカ氏。

2020 3月 24（火）,23:35

エックスパス

2020 3月 24（火）,23:36

サーチアクションまで値が飛んでない

2020 3月 24（火）,23:36

なぜかいちからログイン処理を書かないと、都度ログインできずに止まっていた

2020 3月 24（火）,23:39

同じ条件下になりうるばしょに新たにボタンを作って調べていた

2020 3月 24（火）,23:39

サーチ側にbinding.pryをかけて確認していた

2020 3月 24（火）,23:39

最低限、検索機能が動く要素までビューの内容を削って、どうなるか確認した

2020 3月 24（火）,23:42

---

ミヤオカ氏検索履歴

〜〜〜〜〜〜〜〜〜〜〜

capybara rspec request 発生しない

button_toでgetメソッドを指定しようとしたら手間取った

[https://qiita.com/EastResident/items/11cd287ef7a8927318cf](https://qiita.com/EastResident/items/11cd287ef7a8927318cf)

ミヤオカ氏ターミナル操作履歴より

〜〜〜〜〜〜〜〜〜〜〜

```Plain
bin/rspec spec/system/task_spec.rb:187
```

わざわざ頭から走らせなくても、オプションとしてテストファイルの行数を入力すれば、その行からテストを実行できる。

binding.pry中で、

```Plain
page.html
```

ページ中のHTMLファイル要素などをIRB中に１行ソースコードで出力する。

```Plain
expect(task_list[0]).to have_content 'Factoryで作った作業項目名1'
```

IRB中でもRSpecのEXPECT文が使える。

```Plain
task_list.size
=> 4
```

ページ中のtask_listについて、絞り込み検索で変化が起きているか見てみたが、task_listだけで出力すると余計な情報が入って読みづらかった。ので、とりあえず配列中の要素数だけを抜き出すため入力。

```Plain
find("[@id='search']")


=>Selenium::WebDriver::Error::InvalidSelectorError: invalid selector: An invalid or illegal selector was specified
  (Session info: chrome=80.0.3987.149)
```

無効とでたので、Xpathを使って検索ボタンの要素の情報を取得しようとする。

```Plain
page.all(:xpath, '[@id="search"])
```

しかし不発だったのか？結果を読んでも明確な応答文がなかった。